<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			ul li {
				width: 100px;
				height: 100px;
				background: red;
				border-style: none;
				list-style: none;
				margin: 1px;
				display: inline-block;
			}
		</style>
	</head>

	<body>
		<ul>
			<li>item1</li>
			<li>item2</li>
			<li>item3</li>
			<li>item4</li>
			<li>item5</li>
			<li>item6</li>
		</ul>
		<script type="text/javascript">
			//			错误闭包示范
//			var lis = document.querySelectorAll('li');
//			for(var i = 0; i < lis.length; i++) {
//				lis[i].onclick = function() {
//					console.log(i)
//				}
//			}
			//			正确闭包示范
			function iteratorFactory(t) {
				var onclick = function(e) {
					console.log(t)
				}
				return onclick;
			}
			var lis = document.querySelectorAll('li');
			for(var i = 0; i < lis.length; i++) {
				lis[i].onclick = iteratorFactory(i)
			}
		</script>
	</body>

</html>